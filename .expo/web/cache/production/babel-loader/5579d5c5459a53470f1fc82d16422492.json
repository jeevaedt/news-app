{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useEffect,useState,useContext}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Text from\"react-native-web/dist/exports/Text\";import{NativeBaseProvider,Container}from'native-base';import axios from'axios';import AppBar from\"../components/AppBar\";import Card from\"../components/Card\";import{AppContext}from\"../App\";var styles=StyleSheet.create({container:{flex:1,backgroundColor:'#fff',alignItems:'center',justifyContent:'center'},header:{display:'flex',alignItems:'center',justifyContent:'center',backgroundColor:'#01152B',height:60},heading:{color:\"white\",fontSize:20,fontWeight:\"bold\",letterSpacing:1}});export default function HomeContainer(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),news=_useState2[0],setNews=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),pageLoadingStatus=_useState4[0],setPageLoadingStatus=_useState4[1];var appContext=useContext(AppContext);console.log(appContext);useEffect(function(){getNews();},[]);useEffect(function(){debounce(getNews,300)();},[appContext.searchValue]);function debounce(func){var timeout=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var timer;return function(){var context=this,args=arguments;clearTimeout(timer);timer=setTimeout(function(){func.apply(context,args);},timeout);};}function getNews(){axios({method:'GET',url:'https://gnews.io/api/v4/top-headlines?&token=9ead871aef939717eab5348120cdac3c',params:{lang:\"ta\",q:appContext.searchValue||\"\"}}).then(function(response){console.log(response.data.articles);setPageLoadingStatus(false);setNews(response.data.articles);});}return React.createElement(NativeBaseProvider,null,!pageLoadingStatus?React.createElement(Container,{style:{margin:10,alignItems:\"center\",maxWidth:\"100%\"}},React.createElement(ScrollView,{centerContent:true,contentInsetAdjustmentBehavior:\"automatic\",showsVerticalScrollIndicator:false},news.length?news.map(function(eachNews,index){return React.createElement(Card,{key:index,news:eachNews});}):React.createElement(View,{style:styles.container},React.createElement(Text,null,\"No such data...\")))):React.createElement(View,{style:styles.container},React.createElement(Text,null,\"Loading...\")));}","map":{"version":3,"sources":["/home/jeevanantham-k/Desktop/news-app/container/HomeContainer.js"],"names":["React","useEffect","useState","useContext","NativeBaseProvider","Container","axios","AppBar","Card","AppContext","styles","StyleSheet","create","container","flex","backgroundColor","alignItems","justifyContent","header","display","height","heading","color","fontSize","fontWeight","letterSpacing","HomeContainer","news","setNews","pageLoadingStatus","setPageLoadingStatus","appContext","console","log","getNews","debounce","searchValue","func","timeout","timer","context","args","arguments","clearTimeout","setTimeout","apply","method","url","params","lang","q","then","response","data","articles","margin","maxWidth","length","map","eachNews","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\nimport { StyleSheet, View, ScrollView, Text } from 'react-native';\nimport { NativeBaseProvider, Container } from 'native-base';\nimport axios from 'axios';\nimport AppBar from '../components/AppBar';\nimport Card from '../components/Card';\nimport { AppContext } from '../App';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  header: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#01152B',\n    height: 60\n  },\n  heading: {\n    color: \"white\",\n    fontSize: 20,\n    fontWeight: \"bold\",\n    letterSpacing: 1\n  }\n});\n\n\nexport default function HomeContainer() {\n  const [news, setNews] = useState([]);\n  const [pageLoadingStatus, setPageLoadingStatus] = useState(true);\n  const appContext = useContext(AppContext);\n  console.log(appContext)\n  useEffect(() => {\n    getNews();\n  }, []);\n\n  useEffect(() => {\n    debounce(getNews, 300)();\n  }, [appContext.searchValue]);\n\n  function debounce(func, timeout = 500) {\n    let timer;\n    return function () {\n      const context = this, args = arguments;\n      clearTimeout(timer);\n      timer = setTimeout(() => {\n        func.apply(context, args);\n      }, timeout)\n    }\n  }\n\n  function getNews() {\n    axios({\n      method: 'GET',\n      url: 'https://gnews.io/api/v4/top-headlines?&token=9ead871aef939717eab5348120cdac3c',\n      params: { lang: \"ta\", q: appContext.searchValue || \"\" }\n    }).then((response) => {\n      console.log(response.data.articles);\n      setPageLoadingStatus(false)\n      setNews(response.data.articles)\n    })\n  }\n\n\n  return (\n    <NativeBaseProvider>\n      {!pageLoadingStatus ?\n        <Container style={{ margin: 10, alignItems: \"center\", maxWidth: \"100%\" }}>\n          <ScrollView centerContent={true} contentInsetAdjustmentBehavior=\"automatic\" showsVerticalScrollIndicator={false}>\n            {news.length ?\n              news.map((eachNews, index) => <Card key={index} news={eachNews} />)\n              : <View style={styles.container}>\n                <Text>No such data...</Text>\n              </View>\n            }\n          </ScrollView>\n        </Container> :\n        <View style={styles.container}>\n          <Text>Loading...</Text>\n        </View>}\n    </NativeBaseProvider>\n  );\n}\n\n"]},"metadata":{},"sourceType":"module"}